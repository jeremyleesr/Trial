<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano Test - Jingle Bells & Aunt Rhody</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
            overflow: hidden;
        }
        #container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        #gameCanvas {
            border: 2px solid #444;
            background: #2a2a2a;
            max-width: 100%;
            touch-action: none;
        }
        #startButton {
            font-size: 32px;
            padding: 20px 40px;
            margin: 20px;
            background: linear-gradient(#4CAF50, #45a049);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 #2d6b2f;
        }
        #startButton:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #2d6b2f;
        }
        #fingerDiagram {
            margin: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            text-align: center;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="fingerDiagram">
            <h3>Finger Guide (Right Hand)</h3>
            <p>1=Thumb | 2=Index | 3=Middle | 4=Ring | 5=Pinky</p>
            <p>C D E F G A B C</p>
        </div>
        <canvas id="gameCanvas" width="800" height="400"></canvas>
        <button id="startButton">Start Test</button>
    </div>
    <script>
        const QUARTER = 500;
        const SCROLL_TIME = 2200; // Slowed scroll time by 10%
        const HIT_WINDOW = 200;
        const NOTE_TYPES = {
            QUARTER: 'Quarter',
            HALF: 'Half',
            WHOLE: 'Whole'
        };
        const NOTE_LANES = {
            'C4': 300,
            'D4': 270,
            'E4': 240,
            'F4': 210,
            'G4': 180,
            'A4': 150,
            'B4': 120,
            'C5': 90
        };
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startButton = document.getElementById('startButton');
        const HIT_X = 100;
        const NOTE_WIDTH = 40;
        const NOTE_HEIGHT = 20;
        function update(elapsed) {
            for (const note of gameState.notes) {
                if (note.state !== 'pending') continue;
                const hitTime = note.time - SCROLL_TIME;
                const timeDiff = elapsed - hitTime;
                if (
                    Math.abs(timeDiff) < HIT_WINDOW &&
                    gameState.currentNote &&
                    stripOctave(gameState.currentNote) === stripOctave(note.note)
                ) {
                    note.state = 'hit';
                } else if (timeDiff > HIT_WINDOW) {
                    note.state = 'missed';
                }
            }
            if (gameState.notes.every(n => n.state !== 'pending')) {
                gameState.isPlaying = false;
                startButton.textContent = 'Try Again';
                startButton.classList.remove('hidden');
                startButton.onclick = startSong1;
            }
        }
        function render(elapsed) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#2a2a2a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = 'rgba(255,255,255,0.3)';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(HIT_X, 0);
            ctx.lineTo(HIT_X, canvas.height);
            ctx.stroke();
            for (let note of gameState.notes) {
                const x = HIT_X ..logic hidden ðŸ‘†);
            }
        }
    </script>

</body>